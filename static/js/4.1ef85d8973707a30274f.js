webpackJsonp([4],{189:function(t,e,s){s(746);var r=s(24)(s(693),s(760),null,null);t.exports=r.exports},199:function(t,e){var s=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=s)},202:function(t,e,s){t.exports={default:s(204),__esModule:!0}},204:function(t,e,s){var r=s(199),a=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},693:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=s(202),a=s.n(r);!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?5f228c169bee6b288c0b4652cccda107";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),e.default={name:"firstdemo",inject:["reload"],data:function(){return{form:{name:"",password:""},username:sessionStorage.getItem("user"),count:""}},mounted:function(){console.log(this.username)},activated:function(){this.$router.go(0)},methods:{submit:function(){var e={};if(e.name=this.form.name,e.password=this.form.password,""==e.name||""==e.password)""==e.name?this.$message.error({message:"用户名为空，请输入用户名",duration:3e3}):""==e.password&&this.$message.error({message:"密码为空，请输入密码",duration:3e3});else{var s=this,r=!1;t.ajax({type:"POST",url:"../login/",data:a()(e),contentType:"application/json; charset=UTF-8",dataType:"json",async:!1,success:function(t){"register_success"==t.status?(sessionStorage.setItem("user",s.form.name),s.$message({message:"注册成功",duration:1500,type:"success"}),s.username=s.form.name,console.log(s.username),s.$router.push({path:"/"})):"login_success"==t.status?(sessionStorage.setItem("user",s.form.name),s.$message({message:"登陆成功",duration:1500,type:"success"}),s.username=s.form.name,window.location.reload(),r=!0):"login_fail"==t.status&&s.$message.error({message:"用户名已注册或者密码错误",duration:3e3})},error:function(t){alert("账户登陆出现错误！")}}),1==r&&this.$router.push({path:"/"})}},quit:function(){this.form.name="",this.form.password="",this.username=null,sessionStorage.clear(),location.reload()},returnMain:function(){this.$router.push({path:"/"})}}}}.call(e,s(71))},732:function(t,e,s){e=t.exports=s(176)(),e.push([t.i,".firstdemo{width:500px;height:400px;background:#fff;box-shadow:0 3px 24px 0 rgba(0,0,0,.12);border-radius:6px;margin:100px auto}.count{margin:0 auto;margin-top:50px}.count,.pw{width:260px}.pw{margin:0 auto}.login{margin-left:165px}.login,.quit{margin-top:40px;border-radius:30px}.quit{margin-left:145px}",""])},746:function(t,e,s){var r=s(732);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s(177)("4c99ba38",r,!0)},760:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"firstdemo"},[s("el-form",{ref:"form",attrs:{model:t.form}},[s("div",{staticStyle:{"margin-top":"70px"},attrs:{type:"flex"}},[s("el-form-item",{staticStyle:{"margin-top":"30px","margin-left":"115px","text-align":"center"}},[s("div",{staticStyle:{color:"#666666","font-size":"25px","line-height":"60px","font-weight":"400",width:"270px",height:"33px","margin-top":"20px"}},[t._v("\n              计算社会科学平台\n            ")])])],1),t._v(" "),null==this.username?s("div",[s("div",{staticClass:"count",attrs:{type:"flex"}},[s("el-form-item",{attrs:{label:"账户：",prop:"name"}},[s("el-input",{attrs:{size:"small"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),s("div",{staticClass:"pw",attrs:{type:"flex"}},[s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{size:"small",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),t._v(" "),s("div",{staticClass:"login",attrs:{type:"flex"}},[s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("注册")])],1)],1)]):null!=this.username?s("div",[s("div",{staticClass:"count",attrs:{type:"flex"}},[s("el-form-item",{attrs:{label:"账户：",prop:"name"}},[s("el-input",{attrs:{size:"small",disabled:!0},model:{value:this.username,callback:function(e){t.$set(this,"username",e)},expression:"this.username"}})],1)],1),t._v(" "),s("div",{staticClass:"quit",attrs:{type:"flex"}},[s("el-form-item",[s("el-button",{attrs:{type:"info"},on:{click:t.quit}},[t._v("退出登录")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.returnMain}},[t._v("返回主页")])],1)],1)]):t._e()])],1)},staticRenderFns:[]}}});